<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-82213539-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-82213539-2');
</script>
    <title>10.1 REST 3.2.0.RC1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/gettingStarted.html"><strong>2</strong><span>Getting Started</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/upgrading.html"><strong>3</strong><span>Upgrading from previous versions of Grails</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/conf.html"><strong>4</strong><span>Configuration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/commandLine.html"><strong>5</strong><span>The Command Line</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/profiles.html"><strong>6</strong><span>Application Profiles</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/GORM.html"><strong>7</strong><span>Object Relational Mapping (GORM)</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/theWebLayer.html"><strong>8</strong><span>The Web Layer</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/traits.html"><strong>9</strong><span>Traits</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/webServices.html"><strong>10</strong><span>Web Services</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/async.html"><strong>11</strong><span>Asynchronous Programming</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/validation.html"><strong>12</strong><span>Validation</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/services.html"><strong>13</strong><span>The Service Layer</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/staticTypeCheckingAndCompilation.html"><strong>14</strong><span>Static Type Checking And Compilation</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/testing.html"><strong>15</strong><span>Testing</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/i18n.html"><strong>16</strong><span>Internationalization</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/security.html"><strong>17</strong><span>Security</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/plugins.html"><strong>18</strong><span>Plugins</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/spring.html"><strong>19</strong><span>Grails and Spring</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/hibernate.html"><strong>20</strong><span>Grails and Hibernate</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/scaffolding.html"><strong>21</strong><span>Scaffolding</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/deployment.html"><strong>22</strong><span>Deployment</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/contributing.html"><strong>23</strong><span>Contributing to Grails</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        <span id="logo"><a href="http://grails.org" target="_blank"><img alt="Grails Logo" title="The Grails Framework" src="../../img/grails.png" border="0"/></a></span>
        
        
    </div>
    <p>See the light - agile, industrial strength, rapid web application development made easy</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../../guide/traits.html">&lt;&lt; <strong>9</strong><span>Traits</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../../guide/async.html"><strong>11</strong><span>Asynchronous Programming</span> >></a></div>
                


                <div class="project">
                    <h1>10.1 REST - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Graeme Rocher, Peter Ledbrook, Marc Palmer, Jeff Brown, Luke Daley, Burt Beckwith, Lari Hotari</p>

                    <p><strong>Version:</strong> 3.2.0.RC1</p>

                    
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#domainResources"><strong>10.1</strong><span>Domain classes as REST resources</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#urlMappings"><strong>10.2</strong><span>Mapping to REST resources</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#linkingToResources"><strong>10.3</strong><span>Linking to REST resources from GSP pages</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#versioningResources"><strong>10.4</strong><span>Versioning REST resources</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#restfulControllers"><strong>10.5</strong><span>Implementing REST controllers</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#extendingRestfulController"><strong>10.5.1</strong><span>Extending the RestfulController super class</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#restControllersStepByStep"><strong>10.5.2</strong><span>Implementing REST Controllers Step by Step</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#generatingRestControllers"><strong>10.5.3</strong><span>Generating a REST controller using scaffolding</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#restProfile"><strong>10.6</strong><span>The REST Profile</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#angularProfile"><strong>10.7</strong><span>The Angular Profile</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#jsonViews"><strong>10.8</strong><span>JSON Views</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#jsonViewsSetup"><strong>10.8.1</strong><span>Getting Started</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#jsonViewsCreating"><strong>10.8.2</strong><span>Creating JSON Views</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#jsonViewsAndTemplates"><strong>10.8.3</strong><span>JSON View Templates</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#jsonViewsAndDomainClasses"><strong>10.8.4</strong><span>Rendering Domain Classes with JSON Views</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#jsonViewsTemplatesAndConventions"><strong>10.8.5</strong><span>JSON Views by Convention</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#renderers"><strong>10.9</strong><span>Customizing Response Rendering</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#defaultRenderers"><strong>10.9.1</strong><span>Customizing the Default Renderers</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#customRenderers"><strong>10.9.2</strong><span>Implementing a Custom Renderer</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#gspRenderers"><strong>10.9.3</strong><span>Using GSP to Customize Rendering</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#hypermedia"><strong>10.10</strong><span>Hypermedia as the Engine of Application State</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#hal"><strong>10.10.1</strong><span>HAL Support</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#atom"><strong>10.10.2</strong><span>Atom Support</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:10px"><a href="#vndError"><strong>10.10.3</strong><span>Vnd.Error Support</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#binding"><strong>10.11</strong><span>Customizing Binding of Resources</span></a>
                    </div>
                    
                </div>
                

                
<a name="8.1 REST"><!-- Legacy link --></a>
<h2 id="REST">10.1 REST</h2>
REST is not really a technology in itself, but more an architectural pattern. REST is very simple and just involves using plain XML or JSON as a communication medium, combined with URL patterns that are "representational" of the underlying system, and HTTP methods such as GET, PUT, POST and DELETE.<p class="paragraph"/>Each HTTP method maps to an action type. For example GET for retrieving data, POST for creating data, PUT for updating and so on.<p class="paragraph"/>Grails includes flexible features that make it easy to create RESTful APIs. Creating a RESTful resource can be as simple as one line of code, as demonstrated in the next section.


<h2 id="domainResources">10.1.1 Domain classes as REST resources</h2>
The easiest way to create a RESTful API in Grails is to expose a domain class as a REST resource. This can be done by adding the <code>grails.rest.Resource</code> transformation to any domain class:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.<span class="java&#45;keyword">rest</span>.&#42;<p class="paragraph"/>@Resource(uri='/books')
class Book &#123;<p class="paragraph"/>    <span class="java&#45;object">String</span> title<p class="paragraph"/>    <span class="java&#45;keyword">static</span> constraints = &#123;
        title blank:<span class="java&#45;keyword">false</span>
    &#125;
&#125;</pre></div><p class="paragraph"/>Simply by adding the <code>Resource</code> transformation and specifying a URI, your domain class will automatically be available as a REST resource in either XML or JSON formats. The transformation will automatically register the necessary <a href="../guide/single.html#restfulMappings" class="guide">RESTful URL mapping</a> and create a controller called <code>BookController</code>.<p class="paragraph"/>You can try it out by adding some test data to <code>BootStrap.groovy</code>:<p class="paragraph"/><div class="code"><pre>def init = &#123; servletContext &#45;&#62;<p class="paragraph"/>        <span class="java&#45;keyword">new</span> Book(title:<span class="java&#45;quote">"The Stand"</span>).save()
        <span class="java&#45;keyword">new</span> Book(title:<span class="java&#45;quote">"The Shining"</span>).save()
    &#125;</pre></div><p class="paragraph"/>And then hitting the URL http://localhost:8080/books/1, which will render the response like:<p class="paragraph"/><div class="code"><pre>&#60;?xml version=<span class="java&#45;quote">"1.0"</span> encoding=<span class="java&#45;quote">"UTF&#45;8"</span>?&#62;
&#60;book id=<span class="java&#45;quote">"1"</span>&#62;
    &#60;title&#62;The Stand&#60;/title&#62;
&#60;/book&#62;</pre></div><p class="paragraph"/>If you change the URL to <code>http://localhost:8080/books/1.json</code> you will get a JSON response such as:<p class="paragraph"/>
<div class="code"><pre>&#123;<span class="java&#45;quote">"id"</span>:1,<span class="java&#45;quote">"title"</span>:<span class="java&#45;quote">"The Stand"</span>&#125;</pre></div><p class="paragraph"/>If you wish to change the default to return JSON instead of XML, you can do this by setting the <code>formats</code> attribute of the <code>Resource</code> transformation:<p class="paragraph"/> <div class="code"><pre><span class="java&#45;keyword">import</span> grails.<span class="java&#45;keyword">rest</span>.&#42;<p class="paragraph"/>@Resource(uri='/books', formats=&#91;'json', 'xml'&#93;)
class Book &#123;
    &#8230;
&#125;</pre></div><p class="paragraph"/>With the above example JSON will be prioritized. The list that is passed should contain the names of the formats that the resource should expose. The names of formats are defined in the <code>grails.mime.types</code> setting of <code>application.groovy</code>:<p class="paragraph"/><div class="code"><pre>grails.mime.types = &#91;
    &#8230;
    json:          &#91;'application/json', 'text/json'&#93;,
    &#8230;
    xml:           &#91;'text/xml', 'application/xml'&#93;
&#93;</pre></div><p class="paragraph"/>See the section on <a href="../guide/single.html#contentNegotiation" class="guide">Configuring Mime Types</a> in the user guide for more information.<p class="paragraph"/>Instead of using the file extension in the URI, you can also obtain a JSON response using the ACCEPT header. Here's an example using the Unix <code>curl</code> tool:<p class="paragraph"/><div class="code"><pre>$ curl &#45;i &#45;H <span class="java&#45;quote">"Accept: application/json"</span> localhost:8080/books/1
&#123;<span class="java&#45;quote">"id"</span>:1,<span class="java&#45;quote">"title"</span>:<span class="java&#45;quote">"The Stand"</span>&#125;</pre></div><p class="paragraph"/>This works thanks to Grails' <a href="../guide/single.html#contentNegotiation" class="guide">Content Negotiation</a> features.<p class="paragraph"/>You can create a new resource by issuing a <code>POST</code> request:<p class="paragraph"/><div class="code"><pre>$ curl &#45;i &#45;X POST &#45;H <span class="java&#45;quote">"Content&#45;Type: application/json"</span> &#45;d '&#123;<span class="java&#45;quote">"title"</span>:<span class="java&#45;quote">"Along Came A Spider"</span>&#125;' localhost:8080/books
HTTP/1.1 201 Created
Server: Apache&#45;Coyote/1.1
...</pre></div><p class="paragraph"/>Updating can be done with a <code>PUT</code> request:<p class="paragraph"/><div class="code"><pre>$ curl &#45;i &#45;X PUT &#45;H <span class="java&#45;quote">"Content&#45;Type: application/json"</span> &#45;d '&#123;<span class="java&#45;quote">"title"</span>:<span class="java&#45;quote">"Along Came A Spider"</span>&#125;' localhost:8080/books/1
HTTP/1.1 200 OK
Server: Apache&#45;Coyote/1.1
...</pre></div><p class="paragraph"/>Finally a resource can be deleted with <code>DELETE</code> request:<p class="paragraph"/><div class="code"><pre>$ curl &#45;i &#45;X DELETE localhost:8080/books/1
HTTP/1.1 204 No Content
Server: Apache&#45;Coyote/1.1
...</pre></div><p class="paragraph"/>As you can see, the <code>Resource</code> transformation enables all of the HTTP method verbs on the resource. You can enable only read-only capabilities by setting the <code>readOnly</code> attribute to true:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.<span class="java&#45;keyword">rest</span>.&#42;<p class="paragraph"/>@Resource(uri='/books', readOnly=<span class="java&#45;keyword">true</span>)
class Book &#123;
    &#8230;
&#125;</pre></div><p class="paragraph"/>In this case POST, PUT and DELETE requests will be forbidden.



<h2 id="urlMappings">10.1.2 Mapping to REST resources</h2>
If you prefer to keep the declaration of the URL mapping in your <code>UrlMappings.groovy</code> file then simply removing the <code>uri</code> attribute of the <code>Resource</code> transformation and adding the following line to <code>UrlMappings.groovy</code> will suffice:<p class="paragraph"/><div class="code"><pre><span class="java&#45;quote">"/books"</span>(resources:<span class="java&#45;quote">"book"</span>)</pre></div><p class="paragraph"/>Extending your API to include more end points then becomes trivial:<p class="paragraph"/><div class="code"><pre><span class="java&#45;quote">"/books"</span>(resources:<span class="java&#45;quote">"book"</span>) &#123;
    <span class="java&#45;quote">"/publisher"</span>(controller:<span class="java&#45;quote">"publisher"</span>, method:<span class="java&#45;quote">"GET"</span>)
&#125;</pre></div><p class="paragraph"/>The above example will expose the URI <code>/books/1/publisher</code>.<p class="paragraph"/>A more detailed explanation on <a href="../guide/single.html#restfulMappings" class="guide">creating RESTful URL mappings</a> can be found in the <a href="../guide/single.html#urlMappings" class="guide">URL Mappings section</a> of the user guide.


<h2 id="linkingToResources">10.1.3 Linking to REST resources from GSP pages</h2>
The <code>link</code> tag offers an easy way to link to any domain class resource:<p class="paragraph"/><div class="code"><pre>&#60;g:link resource=<span class="java&#45;quote">"$&#123;book&#125;"</span>&#62;My Link&#60;/g:link&#62;</pre></div><p class="paragraph"/>However, currently you cannot use g:link to link to the DELETE action and most browsers do not support sending the DELETE method directly.<p class="paragraph"/>The best way to accomplish this is to use a form submit:<p class="paragraph"/><div class="code"><pre>&#60;form action=<span class="java&#45;quote">"/book/2"</span> method=<span class="java&#45;quote">"post"</span>&#62;
 	&#60;input type=<span class="java&#45;quote">"hidden"</span> name=<span class="java&#45;quote">"_method"</span> value=<span class="java&#45;quote">"DELETE"</span>/&#62;
 &#60;/form&#62;</pre></div><p class="paragraph"/>Grails supports overriding the request method via the hidden _method parameter. This is for browser compatibility purposes. This is useful when using restful resource mappings to create powerful web interfaces.
To make a link fire this type of event, perhaps capture all click events for links with a `data-method` attribute and issue a form submit via javascript.



<h2 id="versioningResources">10.1.4 Versioning REST resources</h2>
A common requirement with a REST API is to expose different versions at the same time. There are a few ways this can be achieved in Grails.<p class="paragraph"/><h4>Versioning using the URI</h4><p class="paragraph"/>A common approach is to use the URI to version APIs (although this approach is discouraged in favour of Hypermedia). For example, you can define the following URL mappings:<p class="paragraph"/><div class="code"><pre><span class="java&#45;quote">"/books/v1"</span>(resources:<span class="java&#45;quote">"book"</span>, namespace:'v1')
<span class="java&#45;quote">"/books/v2"</span>(resources:<span class="java&#45;quote">"book"</span>, namespace:'v2')</pre></div><p class="paragraph"/>That will match the following controllers:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">package</span> myapp.v1<p class="paragraph"/>class BookController &#123;
    <span class="java&#45;keyword">static</span> namespace = 'v1'
&#125;<p class="paragraph"/><span class="java&#45;keyword">package</span> myapp.v2<p class="paragraph"/>class BookController &#123;
    <span class="java&#45;keyword">static</span> namespace = 'v2'
&#125;</pre></div><p class="paragraph"/>This approach has the disadvantage of requiring two different URI namespaces for your API.<p class="paragraph"/><h4>Versioning with the Accept-Version header</h4><p class="paragraph"/>As an alternative Grails supports the passing of an <code>Accept-Version</code> header from clients. For example you can define the following URL mappings:<p class="paragraph"/><div class="code"><pre><span class="java&#45;quote">"/books"</span>(version:'1.0', resources:<span class="java&#45;quote">"book"</span>, namespace:'v1')
<span class="java&#45;quote">"/books"</span>(version:'2.0', resources:<span class="java&#45;quote">"book"</span>, namespace:'v2')</pre></div><p class="paragraph"/>
Then in the client simply pass which version you need using the <code>Accept-Version</code> header:<p class="paragraph"/><div class="code"><pre>$ curl &#45;i &#45;H <span class="java&#45;quote">"Accept&#45;Version: 1.0"</span> &#45;X GET http://localhost:8080/books</pre></div><p class="paragraph"/><h4>Versioning using Hypermedia / Mime Types</h4><p class="paragraph"/>Another approach to versioning is to use Mime Type definitions to declare the version of your custom media types (see the section on "Hypermedia as the Engine of Application State" for more information about Hypermedia concepts). For example, in <code>application.groovy</code> you can declare a custom Mime Type for your resource that includes a version parameter (the 'v' parameter):<p class="paragraph"/><div class="code"><pre>grails.mime.types = &#91;
    all: '&#42;/&#42;',
    book: <span class="java&#45;quote">"application/vnd.books.org.book+json;v=1.0"</span>,
    bookv2: <span class="java&#45;quote">"application/vnd.books.org.book+json;v=2.0"</span>,
    &#8230;
&#125;</pre></div><p class="paragraph"/><blockquote class="warning">
It is critical that place your new mime types after the 'all' Mime Type because if the Content Type of the request cannot be established then the first entry in the map is used for the response. If you have your new Mime Type at the top then Grails will always try and send back your new Mime Type if the requested Mime Type cannot be established.
</blockquote><p class="paragraph"/>Then override the renderer (see the section on "Customizing Response Rendering" for more information on custom renderers) to send back the custom Mime Type in <code>grails-app/conf/spring/resourses.groovy</code>:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.<span class="java&#45;keyword">rest</span>.render.json.&#42;
<span class="java&#45;keyword">import</span> grails.web.mime.&#42;<p class="paragraph"/>beans = &#123;
    bookRendererV1(JsonRenderer, myapp.v1.Book, <span class="java&#45;keyword">new</span> MimeType(<span class="java&#45;quote">"application/vnd.books.org.book+json"</span>, &#91;v:<span class="java&#45;quote">"1.0"</span>&#93;))
    bookRendererV2(JsonRenderer, myapp.v2.Book, <span class="java&#45;keyword">new</span> MimeType(<span class="java&#45;quote">"application/vnd.books.org.book+json"</span>, &#91;v:<span class="java&#45;quote">"2.0"</span>&#93;))
&#125;</pre></div><p class="paragraph"/>Then update the list of acceptable response formats in your controller:<p class="paragraph"/><div class="code"><pre>class BookController <span class="java&#45;keyword">extends</span> RestfulController &#123;
    <span class="java&#45;keyword">static</span> responseFormats = &#91;'json', 'xml', 'book', 'bookv2'&#93;<p class="paragraph"/>    // &#8230;
&#125;</pre></div><p class="paragraph"/>
Then using the <code>Accept</code> header you can specify which version you need using the Mime Type:<p class="paragraph"/><div class="code"><pre>$ curl &#45;i &#45;H <span class="java&#45;quote">"Accept: application/vnd.books.org.book+json;v=1.0"</span> &#45;X GET http://localhost:8080/books</pre></div>



<h2 id="restfulControllers">10.1.5 Implementing REST controllers</h2>
The <code>Resource</code> transformation is a quick way to get started, but typically you'll want to customize the controller logic, the rendering of the response or extend the API to include additional actions.


<h2 id="extendingRestfulController">10.1.5.1 Extending the RestfulController super class</h2>
The easiest way to get started doing so is to create a new controller for your resource that extends the <code>grails.rest.RestfulController</code> super class. For example:<p class="paragraph"/><div class="code"><pre>class BookController <span class="java&#45;keyword">extends</span> RestfulController &#123;
    <span class="java&#45;keyword">static</span> responseFormats = &#91;'json', 'xml'&#93;
    BookController() &#123;
        <span class="java&#45;keyword">super</span>(Book)
    &#125;
&#125;</pre></div><p class="paragraph"/>To customize any logic you can just override the appropriate action. The following table provides the names of the action names and the URIs they map to:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th>HTTP Method</th><th>URI</th><th>Controller Action</th></tr><tr class="table-odd"><td>GET</td><td>/books</td><td>index</td></tr><tr class="table-even"><td>GET</td><td>/books/create</td><td>create</td></tr><tr class="table-odd"><td>POST</td><td>/books</td><td>save</td></tr><tr class="table-even"><td>GET</td><td>/books/${id}</td><td>show</td></tr><tr class="table-odd"><td>GET</td><td>/books/${id}/edit</td><td>edit</td></tr><tr class="table-even"><td>PUT</td><td>/books/${id}</td><td>update</td></tr><tr class="table-odd"><td>DELETE</td><td>/books/${id}</td><td>delete</td></tr></table><p class="paragraph"/><blockquote class="note">
Note that the <code>create</code> and <code>edit</code> actions are only needed if the controller exposes an HTML interface. 
</blockquote><p class="paragraph"/>As an example, if you have a <a href="../guide/single.html#restfulMappings" class="guide">nested resource</a> then you would typically want to query both the parent and the child identifiers. For example, given the following URL mapping:<p class="paragraph"/><div class="code"><pre><span class="java&#45;quote">"/authors"</span>(resources:'author') &#123;
    <span class="java&#45;quote">"/books"</span>(resources:'book')
&#125;</pre></div><p class="paragraph"/>You could implement the nested controller as follows:<p class="paragraph"/><div class="code"><pre>class BookController <span class="java&#45;keyword">extends</span> RestfulController &#123;
    <span class="java&#45;keyword">static</span> responseFormats = &#91;'json', 'xml'&#93;
    BookController() &#123;
        <span class="java&#45;keyword">super</span>(Book)
    &#125;<p class="paragraph"/>    @Override
    <span class="java&#45;keyword">protected</span> Book queryForResource(Serializable id) &#123;
        Book.where &#123;
            id == id &#38;&#38; author.id = params.authorId
        &#125;.find()
    &#125;<p class="paragraph"/>&#125;</pre></div><p class="paragraph"/>The example above subclasses <code>RestfulController</code> and overrides the protected <code>queryForResource</code> method to customize the query for the resource to take into account the parent resource.<p class="paragraph"/><h4>Customizing Data Binding In A RestfulController Subclass</h4><p class="paragraph"/>The RestfulController class contains code which does data binding for actions like <code>save</code> and <code>update</code>.  The class defines a <code>getObjectToBind()</code> method which returns a value which will be used as the source for data binding.  For example, the update action does something like this...<p class="paragraph"/><div class="code"><pre>class RestfulController&#60;T&#62; &#123;<p class="paragraph"/>    def update() &#123;
        T instance = // retrieve instance from the database...<p class="paragraph"/>        instance.properties = getObjectToBind()<p class="paragraph"/>        // &#8230;
    &#125;<p class="paragraph"/>    // &#8230;
&#125;</pre></div><p class="paragraph"/>By default the <code>getObjectToBind()</code> method returns the <a href="../ref/Controllers/request.html" class="controllers">request</a> object.  When the <code>request</code> object is used as the binding source, if the request has a body then the body will be parsed and its contents will be used to do the data binding, otherwise the request parameters will be used to do the data binding.  Subclasses of RestfulController may override the <code>getObjectToBind()</code> method and return anything that is a valid binding source, including a <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html" class="api">Map</a> or a <a href="http://grails.github.io/grails-doc/3.2.x/api/org/grails/databinding/DataBindingSource.html" class="api">DataBindingSource</a>.  For most use cases binding the request is appropriate but the <code>getObjectToBind()</code> method allows for changing that behavior where desired.<p class="paragraph"/><h4>Using custom subclass of RestfulController with Resource annotation</h4><p class="paragraph"/>You can also customize the behaviour of the controller that backs the Resource annotation.<p class="paragraph"/>The class must provide a constructor that takes a domain class as it's argument. The second constructor is required for supporting Resource annotation with readOnly=true.<p class="paragraph"/>This is a template that can be used for subclassed RestfulController classes used in Resource annotations:
<div class="code"><pre>class SubclassRestfulController&#60;T&#62; <span class="java&#45;keyword">extends</span> RestfulController&#60;T&#62; &#123;
    SubclassRestfulController(<span class="java&#45;object">Class</span>&#60;T&#62; domainClass) &#123;
        <span class="java&#45;keyword">this</span>(domainClass, <span class="java&#45;keyword">false</span>)
    &#125;<p class="paragraph"/>    SubclassRestfulController(<span class="java&#45;object">Class</span>&#60;T&#62; domainClass, <span class="java&#45;object">boolean</span> readOnly) &#123;
        <span class="java&#45;keyword">super</span>(domainClass, readOnly)
    &#125;
&#125;</pre></div><p class="paragraph"/>
You can specify the super class of the controller that backs the Resource annotation with the <code>superClass</code> attribute.<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.<span class="java&#45;keyword">rest</span>.&#42;<p class="paragraph"/>@Resource(uri='/books', superClass=SubclassRestfulController)
class Book &#123;<p class="paragraph"/>    <span class="java&#45;object">String</span> title<p class="paragraph"/>    <span class="java&#45;keyword">static</span> constraints = &#123;
        title blank:<span class="java&#45;keyword">false</span>
    &#125;
&#125;</pre></div>



<h2 id="restControllersStepByStep">10.1.5.2 Implementing REST Controllers Step by Step</h2>
If you don't want to take advantage of the features provided by the <code>RestfulController</code> super class, then you can implement each HTTP verb yourself manually. The first step is to create a controller:<p class="paragraph"/><div class="code"><pre>$ grails create&#45;controller book</pre></div><p class="paragraph"/>Then add some useful imports and enable readOnly by default:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.transaction.&#42;
<span class="java&#45;keyword">import</span> <span class="java&#45;keyword">static</span> org.springframework.http.HttpStatus.&#42;
<span class="java&#45;keyword">import</span> <span class="java&#45;keyword">static</span> org.springframework.http.HttpMethod.&#42;<p class="paragraph"/>@Transactional(readOnly = <span class="java&#45;keyword">true</span>)
class BookController &#123;
    &#8230;
&#125;</pre></div><p class="paragraph"/>Recall that each HTTP verb matches a particular Grails action according to the following conventions:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th>HTTP Method</th><th>URI</th><th>Controller Action</th></tr><tr class="table-odd"><td>GET</td><td>/books</td><td>index</td></tr><tr class="table-even"><td>GET</td><td>/books/${id}</td><td>show</td></tr><tr class="table-odd"><td>GET</td><td>/books/create</td><td>create</td></tr><tr class="table-even"><td>GET</td><td>/books/${id}/edit</td><td>edit</td></tr><tr class="table-odd"><td>POST</td><td>/books</td><td>save</td></tr><tr class="table-even"><td>PUT</td><td>/books/${id}</td><td>update</td></tr><tr class="table-odd"><td>DELETE</td><td>/books/${id}</td><td>delete</td></tr></table><p class="paragraph"/><blockquote class="note">
The 'create' and 'edit' actions are already required if you plan to implement an HTML interface for the REST resource. They are there in order to render appropriate HTML forms to create and edit a resource. If this is not a requirement they can be discarded.
</blockquote><p class="paragraph"/>The key to implementing REST actions is the <a href="../ref/Controllers/respond.html" class="controllers">respond</a> method introduced in Grails 2.3. The <code>respond</code> method tries to produce the most appropriate response for the requested content type (JSON, XML, HTML etc.)<p class="paragraph"/><h4>Implementing the 'index' action</h4><p class="paragraph"/>For example, to implement the <code>index</code> action, simply call the <code>respond</code> method passing the list of objects to respond with:<p class="paragraph"/><div class="code"><pre>def index(<span class="java&#45;object">Integer</span> max) &#123;
    params.max = <span class="java&#45;object">Math</span>.min(max ?: 10, 100)
    respond Book.list(params), model:&#91;bookCount: Book.count()&#93;
&#125;</pre></div><p class="paragraph"/>Note that in the above example we also use the <code>model</code> argument of the <code>respond</code> method to supply the total count. This is only required if you plan to support pagination via some user interface.<p class="paragraph"/>The <code>respond</code> method will, using <a href="../guide/single.html#contentNegotiation" class="guide">Content Negotiation</a>, attempt to reply with the most appropriate response given the content type requested by the client (via the ACCEPT header or file extension).<p class="paragraph"/>If the content type is established to be HTML then a model will be produced such that the action above would be the equivalent of writing:<p class="paragraph"/><div class="code"><pre>def index(<span class="java&#45;object">Integer</span> max) &#123;
    params.max = <span class="java&#45;object">Math</span>.min(max ?: 10, 100)
    &#91;bookList: Book.list(params), bookCount: Book.count()&#93;
&#125;</pre></div><p class="paragraph"/>By providing an <code>index.gsp</code> file you can render an appropriate view for the given model. If the content type is something other than HTML then the <code>respond</code> method will attempt to lookup an appropriate <code>grails.rest.render.Renderer</code> instance that is capable of rendering the passed object. This is done by inspecting the <code>grails.rest.render.RendererRegistry</code>.<p class="paragraph"/>By default there are already renderers configured for JSON and XML, to find out how to register a custom renderer see the section on "Customizing Response Rendering".<p class="paragraph"/><h4>Implementing the 'show' action</h4><p class="paragraph"/>The <code>show</code> action, which is used to display and individual resource by id, can be implemented in one line of Groovy code (excluding the method signature):<p class="paragraph"/><div class="code"><pre>def show(Book book) &#123;
    respond book
&#125;</pre></div><p class="paragraph"/>By specifying the domain instance as a parameter to the action Grails will automatically attempt to lookup the domain instance using the <code>id</code> parameter of the request. If the domain instance doesn't exist, then <code>null</code> will be passed into the action. The <code>respond</code> method will return a 404 error if null is passed otherwise once again it will attempt to render an appropriate response. If the format is HTML then an appropriate model will produced. The following action is functionally equivalent to the above action:<p class="paragraph"/><div class="code"><pre>def show(Book book) &#123;
    <span class="java&#45;keyword">if</span>(book == <span class="java&#45;keyword">null</span>) &#123;
        render status:404
    &#125;
    <span class="java&#45;keyword">else</span> &#123;
        <span class="java&#45;keyword">return</span> &#91;book: book&#93;
    &#125;
&#125;</pre></div><p class="paragraph"/><h4>Implementing the 'save' action</h4><p class="paragraph"/>The <code>save</code> action creates new resource representations. To start off, simply define an action that accepts a resource as the first argument and mark it as <code>Transactional</code> with the <code>grails.transaction.Transactional</code> transform:<p class="paragraph"/><div class="code"><pre>@Transactional
def save(Book book) &#123;
    &#8230;
&#125;</pre></div><p class="paragraph"/>Then the first thing to do is check whether the resource has any <a href="../guide/single.html#validation" class="guide">validation errors</a> and if so respond with the errors:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">if</span>(book.hasErrors()) &#123;
    respond book.errors, view:'create' 
&#125;
<span class="java&#45;keyword">else</span> &#123;
    &#8230;
&#125;</pre></div><p class="paragraph"/>In the case of HTML the 'create' view will be rendered again so the user can correct the invalid input. In the case of other formats (JSON, XML etc.), the errors object itself will be rendered in the appropriate format and a status code of 422 (UNPROCESSABLE_ENTITY) returned.<p class="paragraph"/>If there are no errors then the resource can be saved and an appropriate response sent:<p class="paragraph"/><div class="code"><pre>book.save flush:<span class="java&#45;keyword">true</span>
    withFormat &#123;
        html &#123; 
            flash.message = message(code: '<span class="java&#45;keyword">default</span>.created.message', args: &#91;message(code: 'book.label', <span class="java&#45;keyword">default</span>: 'Book'), book.id&#93;)
            redirect book 
        &#125;
        '&#42;' &#123; render status: CREATED &#125;
    &#125;</pre></div><p class="paragraph"/>In the case of HTML a redirect is issued to the originating resource and for other formats a status code of 201 (CREATED) is returned.<p class="paragraph"/><h4>Implementing the 'update' action</h4><p class="paragraph"/>
The <code>update</code> action updates an existing resource representation and is largely similar to the <code>save</code> action. First define the method signature:<p class="paragraph"/><div class="code"><pre>@Transactional
def update(Book book) &#123;
    &#8230;
&#125;</pre></div><p class="paragraph"/>If the resource exists then Grails will load the resource, otherwise null is passed. In the case of null, you should return a 404:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">if</span>(book == <span class="java&#45;keyword">null</span>) &#123;
        render status: NOT_FOUND
    &#125;
    <span class="java&#45;keyword">else</span> &#123;
        &#8230;
    &#125;</pre></div><p class="paragraph"/>Then once again check for errors <a href="../guide/single.html#validation" class="guide">validation errors</a> and if so respond with the errors:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">if</span>(book.hasErrors()) &#123;
    respond book.errors, view:'edit' 
&#125;
<span class="java&#45;keyword">else</span> &#123;
    &#8230;
&#125;</pre></div><p class="paragraph"/>In the case of HTML the 'edit' view will be rendered again so the user can correct the invalid input. In the case of other formats (JSON, XML etc.) the errors object itself will be rendered in the appropriate format and a status code of 422 (UNPROCESSABLE_ENTITY) returned.<p class="paragraph"/>If there are no errors then the resource can be saved and an appropriate response sent:<p class="paragraph"/><div class="code"><pre>book.save flush:<span class="java&#45;keyword">true</span>
withFormat &#123;
    html &#123; 
        flash.message = message(code: '<span class="java&#45;keyword">default</span>.updated.message', args: &#91;message(code: 'book.label', <span class="java&#45;keyword">default</span>: 'Book'), book.id&#93;)
        redirect book 
    &#125;
    '&#42;' &#123; render status: OK &#125;
&#125;</pre></div><p class="paragraph"/>In the case of HTML a redirect is issued to the originating resource and for other formats a status code of 200 (OK) is returned.<p class="paragraph"/><h4>Implementing the 'delete' action</h4><p class="paragraph"/>The <code>delete</code> action deletes an existing resource. The implementation is largely similar to the <code>update</code> action, except the <code>delete()</code> method is called instead:<p class="paragraph"/><div class="code"><pre>book.delete flush:<span class="java&#45;keyword">true</span>
withFormat &#123;
    html &#123; 
        flash.message = message(code: '<span class="java&#45;keyword">default</span>.deleted.message', args: &#91;message(code: 'Book.label', <span class="java&#45;keyword">default</span>: 'Book'), book.id&#93;)
        redirect action:<span class="java&#45;quote">"index"</span>, method:<span class="java&#45;quote">"GET"</span> 
    &#125;
    '&#42;'&#123; render status: NO_CONTENT &#125; 
&#125;</pre></div><p class="paragraph"/>Notice that for an HTML response a redirect is issued back to the <code>index</code> action, whilst for other content types a response code 204 (NO_CONTENT) is returned.<p class="paragraph"/>



<h2 id="generatingRestControllers">10.1.5.3 Generating a REST controller using scaffolding</h2>
To see some of these concepts in action and help you get going, the <a href="http://grails.org/plugin/scaffolding" target="blank">Scaffolding plugin</a>, version 2.0 and above, can generate a REST ready controller for you. Simply run the command:<p class="paragraph"/><div class="code"><pre>$ grails generate&#45;controller &#91;Domain <span class="java&#45;object">Class</span> Name&#93;</pre></div>



<h2 id="restProfile">10.1.6 The REST Profile</h2>
Since Grails 3.1, Grails supports a tailored profile for creating REST applications that provides a more focused set of dependencies and commands.<p class="paragraph"/>To get started with the REST profile, create an application specifying <code>rest-api</code> as the name of the profile:<p class="paragraph"/><div class="code"><pre>$ grails create&#45;app my&#45;api &#45;&#45;profile <span class="java&#45;keyword">rest</span>&#45;api</pre></div><p class="paragraph"/>This will create a new REST application that provides the following features:
<ul class="star">
<li>Default set of commands for creating and generating REST endpoints</li>
<li>Defaults to using JSON views for rendering responses (see the next section)</li>
<li>Few plugins than the default Grails plugin (no GSP, no Asset Pipeline, nothing HTML related)</li>
</ul><p class="paragraph"/>You will notice for example in the <code>grails-app/views</code> directory that there are <code>*.gson</code> files for rendering the default index page and as well as any 404 and 500 errors.<p class="paragraph"/>If you issue the following set of commands:<p class="paragraph"/><div class="code"><pre>$ grails create&#45;domain&#45;class book
$ grails generate&#45;all my.api.Book</pre></div><p class="paragraph"/>Instead of CRUD HTML interface a REST endpoint is generated that produces JSON responses. In addition, the generated functional and unit tests by default test the REST endpoint.<p class="paragraph"/>



<h2 id="angularProfile">10.1.7 The Angular Profile</h2>
Since Grails 3.1, Grails supports a profile for creating applications with AngularJS that provides a more focused set of dependencies and commands. The angular profile inherits from the REST profile and therefore has all of the commands and properties that the REST profile has.<p class="paragraph"/>To get started with the Angular profile, create an application specifying <code>angular</code> as the name of the profile:<p class="paragraph"/><div class="code"><pre>$ grails create&#45;app my&#45;api &#45;&#45;profile angular</pre></div><p class="paragraph"/>This will create a new Grails application that provides the following features:
<ul class="star">
<li>Default set of commands for creating Angular artefacts</li>
<li>Gradle plugin to manage client side dependencies</li>
<li>Gradle plugin to execute client side unit tests</li>
<li>Asset Pipeline plugins to ease development</li>
</ul><p class="paragraph"/>By default the Angular profile includes GSP support in order to render the index page. This is necessary because the profile is designed around asset pipeline.<p class="paragraph"/>The new commands are:
<ul class="star">
<li><code>create-ng-component</code></li>
<li><code>create-ng-controller</code></li>
<li><code>create-ng-directive</code></li>
<li><code>create-ng-domain</code></li>
<li><code>create-ng-module</code></li>
<li><code>create-ng-service</code></li>
</ul><p class="paragraph"/><h4>Project structure</h4><p class="paragraph"/>The Angular profile is designed around a specific project structure. The <code>create-ng</code> commands will automatically create modules where they do not exist.<p class="paragraph"/>Example:
<div class="code"><pre>$ grails create&#45;ng&#45;controller foo</pre></div><p class="paragraph"/>This will produce a <code>fooController.js</code> file in <code>grails-app/assets/javascripts/${default package name}/controllers</code>.<p class="paragraph"/><blockquote class="note">
By default the angular profile will create files in the <code>javascripts</code> directory. You can change that behavior in your configuration with the key <code>grails.codegen.angular.assetDir</code>.
</blockquote><p class="paragraph"/><div class="code"><pre>$ grails create&#45;ng&#45;domain foo.bar</pre></div><p class="paragraph"/>This will produce a <code>Bar.js</code> file in <code>grails-app/assets/javascripts/foo/domains</code>. It will also create the "foo" module if it does not already exist.<p class="paragraph"/><div class="code"><pre>$ grails create&#45;ng&#45;module foo.bar</pre></div><p class="paragraph"/>This will produce a <code>foo.bar.js</code> file in <code>grails-app/assets/javascripts/foo/bar</code>. Note the naming convention for modules is different than other artefacts.<p class="paragraph"/><div class="code"><pre>$ grails create&#45;ng&#45;service foo.bar &#45;&#45;type constant</pre></div><p class="paragraph"/>This will produce a <code>bar.js</code> file in <code>grails-app/assets/javascripts/foo/services</code>. It will also create the "foo" module if it does not already exist. The <code>create-ng-service</code> command accepts a flag <code>-type</code>. The types that can be used are:
<ul class="star">
<li>service</li>
<li>factory  <em class="italic">default</em> </li>
<li>value</li>
<li>provider</li>
<li>constant</li>
</ul><p class="paragraph"/>Along with the artefacts themselves, the profile will also produce a skeleton unit test file under <code>src/test/javascripts</code> for each create command.<p class="paragraph"/><h4>Client side dependencies</h4><p class="paragraph"/>The <a href="https://github.com/craigburke/bower-installer-gradle/" target="blank">Gradle Bower Plugin</a> is used to manage dependencies with bower. Visit the plugin documentation to learn how to use the plugin.<p class="paragraph"/><h4>Unit Testing</h4><p class="paragraph"/>The <a href="https://github.com/craigburke/karma-gradle" target="blank">Gradle Karma Plugin</a> is used to execute client side unit tests. All generated tests are written with Jasmine. Visit the plugin documentation to learn how to use the plugin.<p class="paragraph"/><h4>Asset Pipeline</h4><p class="paragraph"/>The Angular profile includes several asset pipeline plugins to make development easier.
<ul class="star">
<li><a href="https://github.com/craigburke/js-closure-wrap-asset-pipeline" target="blank">JS Closure Wrap Asset Pipeline</a> will wrap your Angular code in immediately invoked function expressions.</li>
<li><a href="https://github.com/craigburke/angular-annotate-asset-pipeline" target="blank">Annotate Asset Pipeline</a> will annotate your dependencies to be safe for minification.</li>
<li><a href="https://github.com/craigburke/angular-template-asset-pipeline" target="blank">Template Asset Pipeline</a> will put your templates into the <code>$templateCache</code> to prevent http requests to retrieve the templates.</li>
</ul><p class="paragraph"/>


<h2 id="jsonViews">10.1.8 JSON Views</h2>
As mentioned in the previous section the REST profile by default uses JSON views to render JSON responses. These play a similar role to GSP, but instead are optimized for outputing JSON responses instead of HTML.<p class="paragraph"/>You can continue to separate your application in terms of MVC, with the logic of your application residing in controllers and services, whilst view related matters are handled by JSON views.<p class="paragraph"/>JSON views also provide the flexibility to easily customize the JSON presented to clients without having to resort to relatively complex marshalling libraries like Jackson or Grails' marshaller API.<p class="paragraph"/><blockquote class="note">
Since Grails 3.1, JSON views are considered by the Grails team the best way to present JSON output for the client, and for that reason the section on writing custom marshallers has been removed from the user guide. If you are looking for information on that topic, see <a href="http://grails.github.io/grails-doc/3.0.x/guide/webServices.html#objectMarshallers" target="blank">the Grails 3.0.x guide</a>.
</blockquote>


<h2 id="jsonViewsSetup">10.1.8.1 Getting Started</h2>
If you are using the REST or AngularJS profiles then the JSON views plugin will already be included and you can skip the remainder of this section. Otherwise you will need to modify your <code>build.gradle</code> to include the necessary plugin to activate JSON views:<p class="paragraph"/><div class="code"><pre>compile 'org.grails.plugins:views&#45;json:1.0.0' // or whatever is the latest version</pre></div><p class="paragraph"/><blockquote class="note">
Tip: The <a href="https://github.com/grails/grails-views" target="blank">source code repository for JSON views</a> can be found on Github if you are looking for more documentation and contributions
</blockquote><p class="paragraph"/>In order to compile JSON views for production deployment you should also activate the Gradle plugin by first modifying the <code>buildscript</code> block:<p class="paragraph"/><div class="code"><pre>buildscript &#123;
    &#8230;
    dependencies &#123;
        &#8230;
        classpath <span class="java&#45;quote">"org.grails.plugins:views&#45;gradle:1.0.0"</span>
    &#125;
&#125;</pre></div><p class="paragraph"/>Then apply the <code>org.grails.plugins.views-json</code> Gradle plugin after any Grails core gradle plugins:<p class="paragraph"/><div class="code"><pre>&#8230;
apply plugin: <span class="java&#45;quote">"org.grails.grails&#45;web"</span>
apply plugin: <span class="java&#45;quote">"org.grails.plugins.views&#45;json"</span></pre></div><p class="paragraph"/>This will add a <code>compileGsonViews</code> task to Gradle, which is invoked prior to creating the production JAR or WAR file.


<h2 id="jsonViewsCreating">10.1.8.2 Creating JSON Views</h2>
JSON views go into the <code>grails-app/views</code> directory and end with the <code>.gson</code> suffix. They are regular Groovy scripts and can be opened in any Groovy editor.<p class="paragraph"/>Example JSON view:<p class="paragraph"/><div class="code"><pre>json.person &#123;
    name <span class="java&#45;quote">"bob"</span>
&#125;</pre></div><p class="paragraph"/><blockquote class="note">
Tip: To open them in the Groovy editor in Intellij double click on the file and when asked which file to associate it with choose "Groovy"
</blockquote><p class="paragraph"/>The above JSON view produces:<p class="paragraph"/><div class="code"><pre>&#123;<span class="java&#45;quote">"person"</span>:&#123;<span class="java&#45;quote">"name"</span>:<span class="java&#45;quote">"bob"</span>&#125;&#125;</pre></div><p class="paragraph"/>There is an implicit <code>json</code> variable which is an instance of <a href="http://docs.groovy-lang.org/latest/html/api/groovy/json/StreamingJsonBuilder.html" target="blank">StreamingJsonBuilder</a>.<p class="paragraph"/>Example usages:<p class="paragraph"/><div class="code"><pre>json(1,2,3) == <span class="java&#45;quote">"&#91;1,2,3&#93;"</span>
json &#123; name <span class="java&#45;quote">"Bob"</span> &#125; == '&#123;<span class="java&#45;quote">"name"</span>:<span class="java&#45;quote">"Bob"</span>&#125;'
json(&#91;1,2,3&#93;) &#123; n it &#125; == '&#91;&#123;<span class="java&#45;quote">"n"</span>:1&#125;,&#123;<span class="java&#45;quote">"n"</span>:2&#125;,&#123;<span class="java&#45;quote">"n"</span>:3&#125;&#93;'</pre></div><p class="paragraph"/>Refer to the API documentation on <a href="http://docs.groovy-lang.org/latest/html/api/groovy/json/StreamingJsonBuilder.html" target="blank">StreamingJsonBuilder</a> for more information about what is possible.


<h2 id="jsonViewsAndTemplates">10.1.8.3 JSON View Templates</h2>
You can define templates starting with underscore <code>_</code>. For example given the following template called <code>_person.gson</code>:<p class="paragraph"/><div class="code"><pre>model &#123;
    Person person
&#125;
json &#123;
    name person.name
    age person.age
&#125;</pre></div><p class="paragraph"/>You can render it with a view as follows:<p class="paragraph"/><div class="code"><pre>model &#123;
    Family family
&#125;
json &#123;
    name family.father.name
    age family.father.age
    oldestChild g.render(template:<span class="java&#45;quote">"person"</span>, model:&#91;person: family.children.max &#123; Person p &#45;&#62; p.age &#125; &#93;)
    children g.render(template:<span class="java&#45;quote">"person"</span>, collection: family.children, <span class="java&#45;keyword">var</span>:'person')
&#125;</pre></div><p class="paragraph"/>Alternatively for a more concise way to invoke templates, using the tmpl variable:<p class="paragraph"/><div class="code"><pre>model &#123;
    Family family
&#125;
json &#123;
    name family.father.name
    age family.father.age
    oldestChild tmpl.person( family.children.max &#123; Person p &#45;&#62; p.age &#125; &#93; )
    children tmpl.person( family.children )
&#125;</pre></div>


<h2 id="jsonViewsAndDomainClasses">10.1.8.4 Rendering Domain Classes with JSON Views</h2>
Typically your model may involve one or many domain instances. JSON views provide a render method for rendering these.<p class="paragraph"/>For example given the following domain class:<p class="paragraph"/><div class="code"><pre>class Book &#123;
    <span class="java&#45;object">String</span> title
&#125;</pre></div><p class="paragraph"/>And the following template:<p class="paragraph"/><div class="code"><pre>model &#123;
    Book book
&#125;<p class="paragraph"/>json g.render(book)</pre></div><p class="paragraph"/>The resulting output is:<p class="paragraph"/><div class="code"><pre>&#123;id:1,<span class="java&#45;quote">"title"</span>:<span class="java&#45;quote">"The Stand"</span>&#125;</pre></div><p class="paragraph"/>You can customize the rendering by including or excluding properties:<p class="paragraph"/><div class="code"><pre>json g.render(book, &#91;includes:&#91;'title'&#93;&#93;)</pre></div><p class="paragraph"/>Or by providing a closure to add additional JSON output:<p class="paragraph"/><div class="code"><pre>json g.render(book) &#123;
    pages 1000
&#125;</pre></div>


<h2 id="jsonViewsTemplatesAndConventions">10.1.8.5 JSON Views by Convention</h2>
There are a few useful conventions you can follow when creating JSON views. For example if you have a domain class called <code>Book</code>, then creating a template located at <code>grails-app/views/book/_book.gson</code> and using the <a href="../ref/Controllers/respond.html" class="controllers">respond</a> method will result in rendering the template:<p class="paragraph"/><div class="code"><pre>def show(<span class="java&#45;object">Long</span> id) &#123;
    respond Book.get(id)
&#125;</pre></div><p class="paragraph"/>In addition if an error occurs during validation by default Grails will try to render a template called <code>grails-app/views/book/_errors.gson</code>, otherwise it will try to render <code>grails-app/views/errors/_errors.gson</code> if the former doesn't exist.<p class="paragraph"/>This is useful because when persisting objects you can <code>respond</code> with validation errors to render these aforementioned templates:<p class="paragraph"/><div class="code"><pre>@Transactional
def save(Book book) &#123;
    <span class="java&#45;keyword">if</span> (book.hasErrors()) &#123;
        transactionStatus.setRollbackOnly()
        respond book.errors
    &#125;    
    <span class="java&#45;keyword">else</span> &#123;
        // valid object
    &#125;
&#125;</pre></div><p class="paragraph"/>If a validation error occurs in the above example the <code>grails-app/views/book/_errors.gson</code> template will be rendered.<p class="paragraph"/>For more information on JSON views (and Markup views), see the <a href="https://github.com/grails/grails-views" target="blank">README and documentation included with the Github project</a>.



<h2 id="renderers">10.1.9 Customizing Response Rendering</h2>
If you are looking for a more low-level API and JSON or Markup views don't suite your needs then you may want to consider implementing a custom renderer.



<h2 id="defaultRenderers">10.1.9.1 Customizing the Default Renderers</h2>
The default renderers for XML and JSON can be found in the <code>grails.rest.render.xml</code> and <code>grails.rest.render.json</code> packages respectively. These use the Grails converters (<code>grails.converters.XML</code> and <code>grails.converters.JSON</code>) by default for response rendering.<p class="paragraph"/>You can easily customize response rendering using these default renderers. A common change you may want to make is to include or exclude certain properties from rendering.<p class="paragraph"/><h4>Including or Excluding Properties from Rendering</h4><p class="paragraph"/>As mentioned previously, Grails maintains a registry of <code>grails.rest.render.Renderer</code> instances. There are some default configured renderers and the ability to register or override renderers for a given domain class or even for a collection of domain classes. To include a particular property from rendering you need to register a custom renderer by defining a bean in <code>grails-app/conf/spring/resources.groovy</code>:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.<span class="java&#45;keyword">rest</span>.render.xml.&#42;<p class="paragraph"/>beans = &#123;
    bookRenderer(XmlRenderer, Book) &#123;
        includes = &#91;'title'&#93;
    &#125;
&#125;</pre></div><p class="paragraph"/>
<blockquote class="note">
The bean name is not important (Grails will scan the application context for all registered renderer beans), but for organizational and readability purposes it is recommended you name it something meaningful.
</blockquote><p class="paragraph"/>To exclude a property, the <code>excludes</code> property of the <code>XmlRenderer</code> class can be used:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.<span class="java&#45;keyword">rest</span>.render.xml.&#42;<p class="paragraph"/>beans = &#123;
    bookRenderer(XmlRenderer, Book) &#123;
        excludes = &#91;'isbn'&#93;
    &#125;
&#125;</pre></div><p class="paragraph"/><h4>Customizing the Converters</h4><p class="paragraph"/>As mentioned previously, the default renders use the <code>grails.converters</code> package under the covers. In other words, under the covers they essentially do the following:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.converters.&#42;<p class="paragraph"/>&#8230;
render book as XML<p class="paragraph"/>// or render book as JSON</pre></div><p class="paragraph"/>Why the separation between converters and renderers? Well a renderer has more flexibility to use whatever rendering technology you chose. When implementing a custom renderer you could use <a href="http://wiki.fasterxml.com/JacksonHome" target="blank">Jackson</a>, <a href="http://code.google.com/p/google-gson/" target="blank">Gson</a> or any Java library to implement the renderer. Converters on the other hand are very much tied to Grails' own marshalling implementation.



<h2 id="customRenderers">10.1.9.2 Implementing a Custom Renderer</h2>
If you want even more control of the rendering or prefer to use your own marshalling techniques then you can implement your own <code>Renderer</code> instance. For example below is a simple implementation that customizes the rendering of the <code>Book</code> class:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">package</span> myapp
<span class="java&#45;keyword">import</span> grails.<span class="java&#45;keyword">rest</span>.render.&#42;
<span class="java&#45;keyword">import</span> grails.web.mime.MimeType<p class="paragraph"/>class BookXmlRenderer <span class="java&#45;keyword">extends</span> AbstractRenderer&#60;Book&#62; &#123;
    BookXmlRenderer() &#123;
        <span class="java&#45;keyword">super</span>(Book, &#91;MimeType.XML,MimeType.TEXT_XML&#93; as MimeType&#91;&#93;)
    &#125;<p class="paragraph"/>    void render(Book object, RenderContext context) &#123;
        context.contentType = MimeType.XML.name<p class="paragraph"/>        def xml = <span class="java&#45;keyword">new</span> groovy.xml.MarkupBuilder(context.writer)
        xml.book(id: object.id, title:object.title)
    &#125;
&#125;</pre></div><p class="paragraph"/>The <code>AbstractRenderer</code> super class has a constructor that takes the class that it renders and the <code>MimeType</code>(s) that are accepted (via the ACCEPT header or file extension) for the renderer.<p class="paragraph"/>To configure this renderer, simply add it is a bean to <code>grails-app/conf/spring/resources.groovy</code>:<p class="paragraph"/><div class="code"><pre>beans = &#123;
    bookRenderer(myapp.BookXmlRenderer)
&#125;</pre></div><p class="paragraph"/>The result will be that all <code>Book</code> instances will be rendered in the following format:<p class="paragraph"/><div class="code"><pre>&#60;book id=<span class="java&#45;quote">"1"</span> title=<span class="java&#45;quote">"The Stand"</span>/&#62;</pre></div><p class="paragraph"/><blockquote class="note">
Note that if you change the rendering to a completely different format like the above, then you also need to change the binding if you plan to support POST and PUT requests. Grails will not automatically know how to bind data from a custom XML format to a domain class otherwise. See the section on "Customizing Binding of Resources" for further information.
</blockquote><p class="paragraph"/><h4>Container Renderers</h4><p class="paragraph"/>A <code>grails.rest.render.ContainerRenderer</code> is a renderer that renders responses for containers of objects (lists, maps, collections etc.). The interface is largely the same as the <code>Renderer</code> interface except for the addition of the <code>getComponentType()</code> method, which should return the "contained" type. For example:<p class="paragraph"/><div class="code"><pre>class BookListRenderer <span class="java&#45;keyword">implements</span> ContainerRenderer&#60;List, Book&#62; &#123;
    <span class="java&#45;object">Class</span>&#60;List&#62; getTargetType() &#123; List &#125;
    <span class="java&#45;object">Class</span>&#60;Book&#62; getComponentType() &#123; Book &#125;
    MimeType&#91;&#93; getMimeTypes() &#123; &#91; MimeType.XML&#93; as MimeType&#91;&#93; &#125;
    void render(List object, RenderContext context) &#123;
        ....
    &#125;
&#125;</pre></div>



<h2 id="gspRenderers">10.1.9.3 Using GSP to Customize Rendering</h2>
You can also customize rendering on a per action basis using Groovy Server Pages (GSP). For example given the <code>show</code> action mentioned previously:<p class="paragraph"/><div class="code"><pre>def show(Book book) &#123;
    respond book
&#125;</pre></div><p class="paragraph"/>You could supply a <code>show.xml.gsp</code> file to customize the rendering of the XML:<p class="paragraph"/><div class="code"><pre>&#60;%@page contentType=<span class="java&#45;quote">"application/xml"</span>%&#62;
&#60;book id=<span class="java&#45;quote">"$&#123;book.id&#125;"</span> title=<span class="java&#45;quote">"$&#123;book.title&#125;"</span>/&#62;</pre></div><p class="paragraph"/>


<h2 id="hypermedia">10.1.10 Hypermedia as the Engine of Application State</h2>
<a href="http://en.wikipedia.org/wiki/HATEOAS" target="blank">HATEOAS</a>, an abbreviation for Hypermedia as the Engine of Application State, is a common pattern applied to REST architectures that uses hypermedia and linking to define the REST API.<p class="paragraph"/>Hypermedia (also called Mime or Media Types) are used to describe the state of a REST resource, and links tell clients how to transition to the next state. The format of the response is typically JSON or XML, although standard formats such as <a href="http://tools.ietf.org/html/rfc4287" target="blank">Atom</a> and/or <a href="http://stateless.co/hal_specification.html" target="blank">HAL</a> are frequently used.



<h2 id="hal">10.1.10.1 HAL Support</h2>
<a href="http://stateless.co/hal_specification.html" target="blank">HAL</a> is a standard exchange format commonly used when developing REST APIs that follow HATEOAS principals. An example HAL document representing a list of orders can be seen below:<p class="paragraph"/><div class="code"><pre>&#123;
    <span class="java&#45;quote">"_links"</span>: &#123;
        <span class="java&#45;quote">"self"</span>: &#123; <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"/orders"</span> &#125;,
        <span class="java&#45;quote">"next"</span>: &#123; <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"/orders?page=2"</span> &#125;,
        <span class="java&#45;quote">"find"</span>: &#123;
            <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"/orders&#123;?id&#125;"</span>,
            <span class="java&#45;quote">"templated"</span>: <span class="java&#45;keyword">true</span>
        &#125;,
        <span class="java&#45;quote">"admin"</span>: &#91;&#123;
            <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"/admins/2"</span>,
            <span class="java&#45;quote">"title"</span>: <span class="java&#45;quote">"Fred"</span>
        &#125;, &#123;
            <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"/admins/5"</span>,
            <span class="java&#45;quote">"title"</span>: <span class="java&#45;quote">"Kate"</span>
        &#125;&#93;
    &#125;,
    <span class="java&#45;quote">"currentlyProcessing"</span>: 14,
    <span class="java&#45;quote">"shippedToday"</span>: 20,
    <span class="java&#45;quote">"_embedded"</span>: &#123;
        <span class="java&#45;quote">"order"</span>: &#91;&#123;
            <span class="java&#45;quote">"_links"</span>: &#123;
                <span class="java&#45;quote">"self"</span>: &#123; <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"/orders/123"</span> &#125;,
                <span class="java&#45;quote">"basket"</span>: &#123; <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"/baskets/98712"</span> &#125;,
                <span class="java&#45;quote">"customer"</span>: &#123; <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"/customers/7809"</span> &#125;
            &#125;,
            <span class="java&#45;quote">"total"</span>: 30.00,
            <span class="java&#45;quote">"currency"</span>: <span class="java&#45;quote">"USD"</span>,
            <span class="java&#45;quote">"status"</span>: <span class="java&#45;quote">"shipped"</span>
        &#125;, &#123;
            <span class="java&#45;quote">"_links"</span>: &#123;
                <span class="java&#45;quote">"self"</span>: &#123; <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"/orders/124"</span> &#125;,
                <span class="java&#45;quote">"basket"</span>: &#123; <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"/baskets/97213"</span> &#125;,
                <span class="java&#45;quote">"customer"</span>: &#123; <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"/customers/12369"</span> &#125;
            &#125;,
            <span class="java&#45;quote">"total"</span>: 20.00,
            <span class="java&#45;quote">"currency"</span>: <span class="java&#45;quote">"USD"</span>,
            <span class="java&#45;quote">"status"</span>: <span class="java&#45;quote">"processing"</span>
        &#125;&#93;
    &#125;
&#125;</pre></div><p class="paragraph"/><h4>Exposing Resources Using HAL</h4><p class="paragraph"/>To return HAL instead of regular JSON for a resource you can simply override the renderer in <code>grails-app/conf/spring/resources.groovy</code> with an instance of <code>grails.rest.render.hal.HalJsonRenderer</code> (or <code>HalXmlRenderer</code> for the XML variation):<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.<span class="java&#45;keyword">rest</span>.render.hal.&#42;
beans = &#123;
    halBookRenderer(HalJsonRenderer, <span class="java&#45;keyword">rest</span>.test.Book)
&#125;</pre></div><p class="paragraph"/>With the bean in place requesting the HAL content type will return HAL:<p class="paragraph"/><div class="code"><pre>$ curl &#45;i &#45;H <span class="java&#45;quote">"Accept: application/hal+json"</span> http://localhost:8080/books/1<p class="paragraph"/>HTTP/1.1 200 OK
Server: Apache&#45;Coyote/1.1
Content&#45;Type: application/hal+json;charset=ISO&#45;8859&#45;1<p class="paragraph"/>&#123;
  <span class="java&#45;quote">"_links"</span>: &#123;
    <span class="java&#45;quote">"self"</span>: &#123;
      <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"http://localhost:8080/books/1"</span>,
      <span class="java&#45;quote">"hreflang"</span>: <span class="java&#45;quote">"en"</span>,
      <span class="java&#45;quote">"type"</span>: <span class="java&#45;quote">"application/hal+json"</span>
    &#125;
  &#125;,
  <span class="java&#45;quote">"title"</span>: <span class="java&#45;quote">"&#34;The Stand&#34;"</span>
&#125;</pre></div><p class="paragraph"/>To use HAL XML format simply change the renderer:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.<span class="java&#45;keyword">rest</span>.render.hal.&#42;
beans = &#123;
    halBookRenderer(HalXmlRenderer, <span class="java&#45;keyword">rest</span>.test.Book)
&#125;</pre></div><p class="paragraph"/><h4>Rendering Collections Using HAL</h4><p class="paragraph"/>To return HAL instead of regular JSON for a list of resources you can simply override the renderer in <code>grails-app/conf/spring/resources.groovy</code> with an instance of <code>grails.rest.render.hal.HalJsonCollectionRenderer</code>:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.<span class="java&#45;keyword">rest</span>.render.hal.&#42;
beans = &#123;
    halBookCollectionRenderer(HalJsonCollectionRenderer, <span class="java&#45;keyword">rest</span>.test.Book)
&#125;</pre></div><p class="paragraph"/>With the bean in place requesting the HAL content type will return HAL:<p class="paragraph"/><div class="code"><pre>$ curl &#45;i &#45;H <span class="java&#45;quote">"Accept: application/hal+json"</span> http://localhost:8080/books
HTTP/1.1 200 OK
Server: Apache&#45;Coyote/1.1
Content&#45;Type: application/hal+json;charset=UTF&#45;8
Transfer&#45;Encoding: chunked
Date: Thu, 17 Oct 2013 02:34:14 GMT<p class="paragraph"/>&#123;
  <span class="java&#45;quote">"_links"</span>: &#123;
    <span class="java&#45;quote">"self"</span>: &#123;
      <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"http://localhost:8080/books"</span>,
      <span class="java&#45;quote">"hreflang"</span>: <span class="java&#45;quote">"en"</span>,
      <span class="java&#45;quote">"type"</span>: <span class="java&#45;quote">"application/hal+json"</span>
    &#125;
  &#125;,
  <span class="java&#45;quote">"_embedded"</span>: &#123;
    <span class="java&#45;quote">"book"</span>: &#91;
      &#123;
        <span class="java&#45;quote">"_links"</span>: &#123;
          <span class="java&#45;quote">"self"</span>: &#123;
            <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"http://localhost:8080/books/1"</span>,
            <span class="java&#45;quote">"hreflang"</span>: <span class="java&#45;quote">"en"</span>,
            <span class="java&#45;quote">"type"</span>: <span class="java&#45;quote">"application/hal+json"</span>
          &#125;
        &#125;,
        <span class="java&#45;quote">"title"</span>: <span class="java&#45;quote">"The Stand"</span>
      &#125;,
      &#123;
        <span class="java&#45;quote">"_links"</span>: &#123;
          <span class="java&#45;quote">"self"</span>: &#123;
            <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"http://localhost:8080/books/2"</span>,
            <span class="java&#45;quote">"hreflang"</span>: <span class="java&#45;quote">"en"</span>,
            <span class="java&#45;quote">"type"</span>: <span class="java&#45;quote">"application/hal+json"</span>
          &#125;
        &#125;,
        <span class="java&#45;quote">"title"</span>: <span class="java&#45;quote">"Infinite Jest"</span>
      &#125;,
      &#123;
        <span class="java&#45;quote">"_links"</span>: &#123;
          <span class="java&#45;quote">"self"</span>: &#123;
            <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"http://localhost:8080/books/3"</span>,
            <span class="java&#45;quote">"hreflang"</span>: <span class="java&#45;quote">"en"</span>,
            <span class="java&#45;quote">"type"</span>: <span class="java&#45;quote">"application/hal+json"</span>
          &#125;
        &#125;,
        <span class="java&#45;quote">"title"</span>: <span class="java&#45;quote">"Walden"</span>
      &#125;
    &#93;
  &#125;
&#125;</pre></div><p class="paragraph"/>Notice that the key associated with the list of <code>Book</code> objects in the rendered JSON is <code>book</code> which is derived from the type of objects in the collection, namely <code>Book</code>.  In order to customize the value of this key assign a value to the <code>collectionName</code> property on the <code>HalJsonCollectionRenderer</code> bean as shown below:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.<span class="java&#45;keyword">rest</span>.render.hal.&#42;
beans = &#123;
    halBookCollectionRenderer(HalCollectionJsonRenderer, <span class="java&#45;keyword">rest</span>.test.Book) &#123;
        collectionName = 'publications'
    &#125;
&#125;</pre></div><p class="paragraph"/>With that in place the rendered HAL will look like the following:<p class="paragraph"/><div class="code"><pre>$ curl &#45;i &#45;H <span class="java&#45;quote">"Accept: application/hal+json"</span> http://localhost:8080/books
HTTP/1.1 200 OK
Server: Apache&#45;Coyote/1.1
Content&#45;Type: application/hal+json;charset=UTF&#45;8
Transfer&#45;Encoding: chunked
Date: Thu, 17 Oct 2013 02:34:14 GMT<p class="paragraph"/>&#123;
  <span class="java&#45;quote">"_links"</span>: &#123;
    <span class="java&#45;quote">"self"</span>: &#123;
      <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"http://localhost:8080/books"</span>,
      <span class="java&#45;quote">"hreflang"</span>: <span class="java&#45;quote">"en"</span>,
      <span class="java&#45;quote">"type"</span>: <span class="java&#45;quote">"application/hal+json"</span>
    &#125;
  &#125;,
  <span class="java&#45;quote">"_embedded"</span>: &#123;
    <span class="java&#45;quote">"publications"</span>: &#91;
      &#123;
        <span class="java&#45;quote">"_links"</span>: &#123;
          <span class="java&#45;quote">"self"</span>: &#123;
            <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"http://localhost:8080/books/1"</span>,
            <span class="java&#45;quote">"hreflang"</span>: <span class="java&#45;quote">"en"</span>,
            <span class="java&#45;quote">"type"</span>: <span class="java&#45;quote">"application/hal+json"</span>
          &#125;
        &#125;,
        <span class="java&#45;quote">"title"</span>: <span class="java&#45;quote">"The Stand"</span>
      &#125;,
      &#123;
        <span class="java&#45;quote">"_links"</span>: &#123;
          <span class="java&#45;quote">"self"</span>: &#123;
            <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"http://localhost:8080/books/2"</span>,
            <span class="java&#45;quote">"hreflang"</span>: <span class="java&#45;quote">"en"</span>,
            <span class="java&#45;quote">"type"</span>: <span class="java&#45;quote">"application/hal+json"</span>
          &#125;
        &#125;,
        <span class="java&#45;quote">"title"</span>: <span class="java&#45;quote">"Infinite Jest"</span>
      &#125;,
      &#123;
        <span class="java&#45;quote">"_links"</span>: &#123;
          <span class="java&#45;quote">"self"</span>: &#123;
            <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"http://localhost:8080/books/3"</span>,
            <span class="java&#45;quote">"hreflang"</span>: <span class="java&#45;quote">"en"</span>,
            <span class="java&#45;quote">"type"</span>: <span class="java&#45;quote">"application/hal+json"</span>
          &#125;
        &#125;,
        <span class="java&#45;quote">"title"</span>: <span class="java&#45;quote">"Walden"</span>
      &#125;
    &#93;
  &#125;
&#125;</pre></div><p class="paragraph"/><h4>Using Custom Media / Mime Types</h4><p class="paragraph"/>If you wish to use a custom Mime Type then you first need to declare the Mime Types in <code>grails-app/conf/application.groovy</code>:<p class="paragraph"/><div class="code"><pre>grails.mime.types = &#91;
    all:      <span class="java&#45;quote">"&#42;/&#42;"</span>,
    book:     <span class="java&#45;quote">"application/vnd.books.org.book+json"</span>,
    bookList: <span class="java&#45;quote">"application/vnd.books.org.booklist+json"</span>,
    &#8230;
&#93;</pre></div><p class="paragraph"/><blockquote class="warning">
It is critical that place your new mime types after the 'all' Mime Type because if the Content Type of the request cannot be established then the first entry in the map is used for the response. If you have your new Mime Type at the top then Grails will always try and send back your new Mime Type if the requested Mime Type cannot be established.
</blockquote><p class="paragraph"/>Then override the renderer to return HAL using the custom Mime Types:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.<span class="java&#45;keyword">rest</span>.render.hal.&#42;
<span class="java&#45;keyword">import</span> grails.web.mime.&#42;<p class="paragraph"/>beans = &#123;
    halBookRenderer(HalJsonRenderer, <span class="java&#45;keyword">rest</span>.test.Book, <span class="java&#45;keyword">new</span> MimeType(<span class="java&#45;quote">"application/vnd.books.org.book+json"</span>, &#91;v:<span class="java&#45;quote">"1.0"</span>&#93;))
    halBookListRenderer(HalJsonCollectionRenderer, <span class="java&#45;keyword">rest</span>.test.Book, <span class="java&#45;keyword">new</span> MimeType(<span class="java&#45;quote">"application/vnd.books.org.booklist+json"</span>, &#91;v:<span class="java&#45;quote">"1.0"</span>&#93;))
&#125;</pre></div><p class="paragraph"/>In the above example the first bean defines a HAL renderer for a single book instance that returns a Mime Type of <code>application/vnd.books.org.book+json</code>. The second bean defines the Mime Type used to render a collection of books (in this case <code>application/vnd.books.org.booklist+json</code>).<p class="paragraph"/><blockquote class="note">
<code>application/vnd.books.org.booklist+json</code> is an example of a media-range (http://www.w3.org/Protocols/rfc2616/rfc2616.html - Header Field Definitions).  This example uses entity (book) and operation (list) to form the media-range values but in reality, it may not be necessary to create a separate Mime type for each operation.  Further, it may not be necessary to create Mime types at the entity level.  See the section on "Versioning REST resources" for further information about how to define your own Mime types.
</blockquote><p class="paragraph"/>With this in place issuing a request for the new Mime Type returns the necessary HAL:<p class="paragraph"/><div class="code"><pre>$ curl &#45;i &#45;H <span class="java&#45;quote">"Accept: application/vnd.books.org.book+json"</span> http://localhost:8080/books/1<p class="paragraph"/>HTTP/1.1 200 OK
Server: Apache&#45;Coyote/1.1
Content&#45;Type: application/vnd.books.org.book+json;charset=ISO&#45;8859&#45;1<p class="paragraph"/>
&#123;
  <span class="java&#45;quote">"_links"</span>: &#123;
    <span class="java&#45;quote">"self"</span>: &#123;
      <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"http://localhost:8080/books/1"</span>,
      <span class="java&#45;quote">"hreflang"</span>: <span class="java&#45;quote">"en"</span>,
      <span class="java&#45;quote">"type"</span>: <span class="java&#45;quote">"application/vnd.books.org.book+json"</span>
    &#125;
  &#125;,
  <span class="java&#45;quote">"title"</span>: <span class="java&#45;quote">"&#34;The Stand&#34;"</span>
&#125;</pre></div><p class="paragraph"/>
<h4>Customizing Link Rendering</h4><p class="paragraph"/>An important aspect of HATEOAS is the usage of links that describe the transitions the client can use to interact with the REST API. By default the <code>HalJsonRenderer</code> will automatically create links for you for associations and to the resource itself (using the "self" relationship).<p class="paragraph"/>However you can customize link rendering using the <code>link</code> method that is added to all domain classes annotated with <code>grails.rest.Resource</code> or any class annotated with <code>grails.rest.Linkable</code>. For example, the <code>show</code> action can be modified as follows to provide a new link in the resulting output:<p class="paragraph"/><div class="code"><pre>def show(Book book) &#123;
    book.link rel:'publisher', href: g.createLink(absolute: <span class="java&#45;keyword">true</span>, resource:<span class="java&#45;quote">"publisher"</span>, params:&#91;bookId: book.id&#93;)
    respond book
&#125;</pre></div><p class="paragraph"/>Which will result in output such as:<p class="paragraph"/><div class="code"><pre>&#123;
  <span class="java&#45;quote">"_links"</span>: &#123;
    <span class="java&#45;quote">"self"</span>: &#123;
      <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"http://localhost:8080/books/1"</span>,
      <span class="java&#45;quote">"hreflang"</span>: <span class="java&#45;quote">"en"</span>,
      <span class="java&#45;quote">"type"</span>: <span class="java&#45;quote">"application/vnd.books.org.book+json"</span>
    &#125;
    <span class="java&#45;quote">"publisher"</span>: &#123;
        <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"http://localhost:8080/books/1/publisher"</span>,
        <span class="java&#45;quote">"hreflang"</span>: <span class="java&#45;quote">"en"</span>
    &#125;
  &#125;,
  <span class="java&#45;quote">"title"</span>: <span class="java&#45;quote">"&#34;The Stand&#34;"</span>
&#125;</pre></div><p class="paragraph"/>The <code>link</code> method can be passed named arguments that match the properties of the <code>grails.rest.Link</code> class.



<h2 id="atom">10.1.10.2 Atom Support</h2>
<a href="http://tools.ietf.org/html/rfc4287" target="blank">Atom</a> is another standard interchange format used to implement REST APIs. An example of Atom output can be seen below:<p class="paragraph"/><div class="code"><pre><span class="xml&#45;tag">&#60;?xml version=<span class="xml&#45;quote">"1.0"</span> encoding=<span class="xml&#45;quote">"utf&#45;8"</span>?&#62;</span>
<span class="xml&#45;tag">&#60;feed xmlns=<span class="xml&#45;quote">"http://www.w3.org/2005/Atom"</span>&#62;</span><p class="paragraph"/> <span class="xml&#45;tag">&#60;title&#62;</span>Example Feed<span class="xml&#45;tag">&#60;/title&#62;</span>
 <span class="xml&#45;tag">&#60;link href=<span class="xml&#45;quote">"http://example.org/"</span>/&#62;</span>
 <span class="xml&#45;tag">&#60;updated&#62;</span>2003&#45;12&#45;13T18:30:02Z<span class="xml&#45;tag">&#60;/updated&#62;</span>
 <span class="xml&#45;tag">&#60;author&#62;</span>
   <span class="xml&#45;tag">&#60;name&#62;</span>John Doe<span class="xml&#45;tag">&#60;/name&#62;</span>
 <span class="xml&#45;tag">&#60;/author&#62;</span>
 <span class="xml&#45;tag">&#60;id&#62;</span>urn:uuid:60a76c80&#45;d399&#45;11d9&#45;b93C&#45;0003939e0af6<span class="xml&#45;tag">&#60;/id&#62;</span><p class="paragraph"/> <span class="xml&#45;tag">&#60;entry&#62;</span>
   <span class="xml&#45;tag">&#60;title&#62;</span>Atom&#45;Powered Robots Run Amok<span class="xml&#45;tag">&#60;/title&#62;</span>
   <span class="xml&#45;tag">&#60;link href=<span class="xml&#45;quote">"http://example.org/2003/12/13/atom03"</span>/&#62;</span>
   <span class="xml&#45;tag">&#60;id&#62;</span>urn:uuid:1225c695&#45;cfb8&#45;4ebb&#45;aaaa&#45;80da344efa6a<span class="xml&#45;tag">&#60;/id&#62;</span>
   <span class="xml&#45;tag">&#60;updated&#62;</span>2003&#45;12&#45;13T18:30:02Z<span class="xml&#45;tag">&#60;/updated&#62;</span>
   <span class="xml&#45;tag">&#60;summary&#62;</span>Some text.<span class="xml&#45;tag">&#60;/summary&#62;</span>
 <span class="xml&#45;tag">&#60;/entry&#62;</span><p class="paragraph"/><span class="xml&#45;tag">&#60;/feed&#62;</span></pre></div><p class="paragraph"/>To use Atom rendering again simply define a custom renderer:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.<span class="java&#45;keyword">rest</span>.render.atom.&#42;
beans = &#123;
    halBookRenderer(AtomRenderer, <span class="java&#45;keyword">rest</span>.test.Book)
    halBookListRenderer(AtomCollectionRenderer, <span class="java&#45;keyword">rest</span>.test.Book)
&#125;</pre></div>


<h2 id="vndError">10.1.10.3 Vnd.Error Support</h2>
<a href="https://github.com/blongden/vnd.error" target="blank">Vnd.Error</a> is a standardised way of expressing an error response.<p class="paragraph"/>By default when a validation error occurs when attempting to POST new resources then the errors object will be sent back allow with a 422 respond code:<p class="paragraph"/><div class="code"><pre>$ curl &#45;i &#45;H <span class="java&#45;quote">"Accept: application/json"</span>  &#45;H <span class="java&#45;quote">"Content&#45;Type: application/json"</span> &#45;X POST &#45;d <span class="java&#45;quote">""</span> http://localhost:8080/books<p class="paragraph"/>HTTP/1.1 422 Unprocessable Entity
Server: Apache&#45;Coyote/1.1
Content&#45;Type: application/json;charset=ISO&#45;8859&#45;1<p class="paragraph"/>&#123;<span class="java&#45;quote">"errors"</span>:&#91;&#123;<span class="java&#45;quote">"object"</span>:<span class="java&#45;quote">"<span class="java&#45;keyword">rest</span>.test.Book"</span>, <span class="java&#45;quote">"field"</span>:<span class="java&#45;quote">"title"</span>, <span class="java&#45;quote">"rejected&#45;value"</span>:<span class="java&#45;keyword">null</span>, <span class="java&#45;quote">"message"</span>:<span class="java&#45;quote">"Property &#91;title&#93; of class &#91;class <span class="java&#45;keyword">rest</span>.test.Book&#93; cannot be <span class="java&#45;keyword">null</span>"</span>&#125;&#93;&#125;</pre></div><p class="paragraph"/>If you wish to change the format to Vnd.Error then simply register <code>grails.rest.render.errors.VndErrorJsonRenderer</code> bean in <code>grails-app/conf/spring/resources.groovy</code>:<p class="paragraph"/>
<div class="code"><pre>beans = &#123;
    vndJsonErrorRenderer(grails.<span class="java&#45;keyword">rest</span>.render.errors.VndErrorJsonRenderer)
    // <span class="java&#45;keyword">for</span> Vnd.Error XML format
    vndXmlErrorRenderer(grails.<span class="java&#45;keyword">rest</span>.render.errors.VndErrorXmlRenderer)
&#125;</pre></div><p class="paragraph"/>Then if you alter the client request to accept Vnd.Error you get an appropriate response:<p class="paragraph"/><div class="code"><pre>$ curl &#45;i &#45;H <span class="java&#45;quote">"Accept: application/vnd.error+json,application/json"</span> &#45;H <span class="java&#45;quote">"Content&#45;Type: application/json"</span> &#45;X POST &#45;d <span class="java&#45;quote">""</span> http://localhost:8080/books
HTTP/1.1 200 OK
Server: Apache&#45;Coyote/1.1
Content&#45;Type: application/vnd.error+json;charset=ISO&#45;8859&#45;1<p class="paragraph"/>&#91;
    &#123;
        <span class="java&#45;quote">"logref"</span>: <span class="java&#45;quote">"&#34;book.nullable&#34;"</span>,
        <span class="java&#45;quote">"message"</span>: <span class="java&#45;quote">"Property &#91;title&#93; of class &#91;class <span class="java&#45;keyword">rest</span>.test.Book&#93; cannot be <span class="java&#45;keyword">null</span>"</span>,
        <span class="java&#45;quote">"_links"</span>: &#123;
            <span class="java&#45;quote">"resource"</span>: &#123;
                <span class="java&#45;quote">"href"</span>: <span class="java&#45;quote">"http://localhost:8080/<span class="java&#45;keyword">rest</span>&#45;test/books"</span>
            &#125;
        &#125;
    &#125;
&#93;</pre></div>



<h2 id="binding">10.1.11 Customizing Binding of Resources</h2>
The framework provides a sophisticated but simple mechanism for binding REST requests to domain objects and command objects.  One way to take advantage of this is to bind the <code>request</code> property in a controller the <code>properties</code> of a domain class.  Given the following XML as the body of the request, the <code>createBook</code> action will create a new <code>Book</code> and assign "The Stand" to the <code>title</code> property and "Stephen King" to the <code>authorName</code> property.<p class="paragraph"/><div class="code"><pre>&#60;?xml version=<span class="java&#45;quote">"1.0"</span> encoding=<span class="java&#45;quote">"UTF&#45;8"</span>?&#62;
&#60;book&#62;
    &#60;title&#62;The Stand&#60;/title&#62;
    &#60;authorName&#62;Stephen King&#60;/authorName&#62;
&#60;/book&#62;</pre></div><p class="paragraph"/><div class="code"><pre>class BookController &#123;<p class="paragraph"/>    def createBook() &#123;
        def book = <span class="java&#45;keyword">new</span> Book()
        book.properties = request<p class="paragraph"/>        // &#8230;
    &#125;
&#125;</pre></div><p class="paragraph"/>Command objects will automatically be bound with the body of the request:<p class="paragraph"/><div class="code"><pre>class BookController &#123;
    def createBook(BookCommand book) &#123;<p class="paragraph"/>        // &#8230;
    &#125;
&#125;<p class="paragraph"/>class BookCommand &#123;
    <span class="java&#45;object">String</span> title
    <span class="java&#45;object">String</span> authorName
&#125;</pre></div><p class="paragraph"/>If the command object type is a domain class and the root element of the XML document contains an <code>id</code> attribute, the <code>id</code> value will be used to retrieve the corresponding persistent instance from the database and then the rest of the document will be bound to the instance.  If no corresponding record is found in the database, the command object reference will be null.<p class="paragraph"/><div class="code"><pre>&#60;?xml version=<span class="java&#45;quote">"1.0"</span> encoding=<span class="java&#45;quote">"UTF&#45;8"</span>?&#62;
&#60;book id=<span class="java&#45;quote">"42"</span>&#62;
    &#60;title&#62;Walden&#60;/title&#62;
    &#60;authorName&#62;Henry David Thoreau&#60;/authorName&#62;
&#60;/book&#62;</pre></div><p class="paragraph"/><div class="code"><pre>class BookController &#123;
    def updateBook(Book book) &#123;
        // The book will have been retrieved from the database and updated
        // by doing something like <span class="java&#45;keyword">this</span>:
        //
        // book == Book.get('42')
        // <span class="java&#45;keyword">if</span>(book != <span class="java&#45;keyword">null</span>) &#123;
        //    book.properties = request
        // &#125;
        //
        // the code above represents what the framework will
        // have done. There is no need to write that code.<p class="paragraph"/>        // ...<p class="paragraph"/>    &#125;
&#125;</pre></div><p class="paragraph"/>The data binding depends on an instance of the <a href="http://grails.github.io/grails-doc/3.2.x/api/org/grails/databinding/DataBindingSource.html" class="api">DataBindingSource</a> interface created by an instance of the <a href="http://grails.github.io/grails-doc/3.2.x/api/org/grails/databinding/bindingsource/DataBindingSourceCreator.html" class="api">DataBindingSourceCreator</a> interface.  The specific implementation of <code>DataBindingSourceCreator</code> will be selected based on the <code>contentType</code> of the request.  Several implementations are provided to handle common content types.  The default implementations will be fine for most use cases.  The following table lists the content types which are supported by the core framework and which <code>DataBindingSourceCreator</code> implementations are used for each. All of the implementation classes are in the <code>org.grails.databinding.bindingsource</code> package.<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th>Content Type(s)</th><th>Bean Name</th><th>DataBindingSourceCreator Impl.</th></tr><tr class="table-odd"><td>application/xml, text/xml</td><td>xmlDataBindingSourceCreator</td><td>XmlDataBindingSourceCreator</td></tr><tr class="table-even"><td>application/json, text/json</td><td>jsonDataBindingSourceCreator</td><td>JsonDataBindingSourceCreator</td></tr><tr class="table-odd"><td>application/hal+json</td><td>halJsonDataBindingSourceCreator</td><td>HalJsonDataBindingSourceCreator</td></tr><tr class="table-even"><td>application/hal+xml</td><td>halXmlDataBindingSourceCreator</td><td>HalXmlDataBindingSourceCreator</td></tr></table><p class="paragraph"/>In order to provide your own <code>DataBindingSourceCreator</code> for any of those content types, write a class which implements
<code>DataBindingSourceCreator</code> and register an instance of that class in the Spring application context.  If you
are replacing one of the existing helpers, use the corresponding bean name from above.  If you are providing a
helper for a content type other than those accounted for by the core framework, the bean name may be anything that
you like but you should take care not to conflict with one of the bean names above.<p class="paragraph"/>The <code>DataBindingSourceCreator</code> interface defines just 2 methods:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">package</span> org.grails.databinding.bindingsource<p class="paragraph"/><span class="java&#45;keyword">import</span> grails.web.mime.MimeType
<span class="java&#45;keyword">import</span> grails.databinding.DataBindingSource<p class="paragraph"/>/&#42;&#42;
 &#42; A factory <span class="java&#45;keyword">for</span> DataBindingSource instances
 &#42;
 &#42; @since 2.3
 &#42; @see DataBindingSourceRegistry
 &#42; @see DataBindingSource
 &#42;
 &#42;/
<span class="java&#45;keyword">interface</span> DataBindingSourceCreator &#123;<p class="paragraph"/>    /&#42;&#42;
     &#42; <code><span class="java&#45;keyword">return</span> All of the &#123;</code>link MimeType&#125; supported by <span class="java&#45;keyword">this</span> helper
     &#42;/
    MimeType&#91;&#93; getMimeTypes()<p class="paragraph"/>    /&#42;&#42;
     &#42; Creates a DataBindingSource suitable <span class="java&#45;keyword">for</span> binding bindingSource to bindingTarget
     &#42;
     &#42; @param mimeType a mime type
     &#42; @param bindingTarget the target of the data binding
     &#42; @param bindingSource the value being bound
     &#42; @<span class="java&#45;keyword">return</span> a DataBindingSource
     &#42;/
    DataBindingSource createDataBindingSource(MimeType mimeType, <span class="java&#45;object">Object</span> bindingTarget, <span class="java&#45;object">Object</span> bindingSource)
&#125;</pre></div><p class="paragraph"/><a href="http://grails.github.io/grails-doc/3.2.x/api/org/grails/databinding/bindingsource/AbstractRequestbodyDataBindingSourceCreator.html" class="api">AbstractRequestBodyDataBindingSourceCreator</a>
is an abstract class designed to be extended to simplify writing custom <code>DataBindingSourceCreator</code> classes.  Classes which
extend <code>AbstractRequestbodyDatabindingSourceCreator</code> need to implement a method named <code>createBindingSource</code>
which accepts an <code>InputStream</code> as an argument and returns a <code>DataBindingSource</code> as well as implementing the <code>getMimeTypes</code>
method described in the <code>DataBindingSourceCreator</code> interface above.  The <code>InputStream</code> argument to <code>createBindingSource</code>
provides access to the body of the request.<p class="paragraph"/>The code below shows a simple implementation.<p class="paragraph"/>
<div class="code"><pre>// MyCustomDataBindingSourceCreator.groovy in
// src/groovy/com/demo/myapp/databinding
<span class="java&#45;keyword">package</span> com.demo.myapp.databinding<p class="paragraph"/><span class="java&#45;keyword">import</span> grails.web.mime.MimeType
<span class="java&#45;keyword">import</span> grails.databinding.DataBindingSource
<span class="java&#45;keyword">import</span> org...databinding.SimpleMapDataBindingSource
<span class="java&#45;keyword">import</span> org...databinding.bindingsource.AbstractRequestBodyDataBindingSourceCreator<p class="paragraph"/>/&#42;&#42;
 &#42; A custom DataBindingSourceCreator capable of parsing key value pairs out of
 &#42; a request body containing a comma separated list of key:value pairs like:
 &#42;
 &#42; name:Herman,age:99,town:STL
 &#42;
 &#42;/
class MyCustomDataBindingSourceCreator <span class="java&#45;keyword">extends</span> AbstractRequestBodyDataBindingSourceCreator &#123;<p class="paragraph"/>    @Override
    <span class="java&#45;keyword">public</span> MimeType&#91;&#93; getMimeTypes() &#123;
        &#91;<span class="java&#45;keyword">new</span> MimeType('text/custom+demo+csv')&#93; as MimeType&#91;&#93;
    &#125;<p class="paragraph"/>    @Override
    <span class="java&#45;keyword">protected</span> DataBindingSource createBindingSource(InputStream inputStream) &#123;
        def map = &#91;:&#93;<p class="paragraph"/>        def reader = <span class="java&#45;keyword">new</span> InputStreamReader(inputStream)<p class="paragraph"/>        // <span class="java&#45;keyword">this</span> is an obviously naive parser and is intended
        // <span class="java&#45;keyword">for</span> demonstration purposes only.<p class="paragraph"/>        reader.eachLine &#123; line &#45;&#62;
            def keyValuePairs = line.split(',')
            keyValuePairs.each &#123; keyValuePair &#45;&#62;
                <span class="java&#45;keyword">if</span>(keyValuePair?.trim()) &#123;
                    def keyValuePieces = keyValuePair.split(':')
                    def key = keyValuePieces&#91;0&#93;.trim()
                    def value = keyValuePieces&#91;1&#93;.trim()
                    map&#91;key&#93; = value
                &#125;
            &#125;
        &#125;<p class="paragraph"/>        // create and <span class="java&#45;keyword">return</span> a DataBindingSource which contains the parsed data
        <span class="java&#45;keyword">new</span> SimpleMapDataBindingSource(map)
    &#125;
&#125;</pre></div><p class="paragraph"/>An instance of <code>MyCustomDataSourceCreator</code> needs to be registered in the spring application context.<p class="paragraph"/><div class="code"><pre>// grails&#45;app/conf/spring/resources.groovy
beans = &#123;<p class="paragraph"/>    myCustomCreator com.demo.myapp.databinding.MyCustomDataBindingSourceCreator<p class="paragraph"/>    // &#8230;
&#125;</pre></div><p class="paragraph"/>
With that in place the framework will use the <code>myCustomCreator</code> bean any time a <code>DataBindingSourceCreator</code> is needed
to deal with a request which has a <code>contentType</code> of "text/custom+demo+csv".



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../../guide/traits.html">&lt;&lt; <strong>9</strong><span>Traits</span></a></div>
                
                    <div class="toc-item next-right"><a href="../../guide/async.html"><strong>11</strong><span>Asynchronous Programming</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Command Line</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../../ref/Command%20Line/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/bug-report.html">bug-report</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/clean.html">clean</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/compile.html">compile</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/console.html">console</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/create-app.html">create-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/create-command.html">create-command</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/create-controller.html">create-controller</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/create-domain-class.html">create-domain-class</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/create-functional-test.html">create-functional-test</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/create-hibernate-cfg-xml.html">create-hibernate-cfg-xml</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/create-integration-test.html">create-integration-test</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/create-interceptor.html">create-interceptor</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/create-plugin.html">create-plugin</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/create-profile.html">create-profile</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/create-script.html">create-script</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/create-service.html">create-service</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/create-taglib.html">create-taglib</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/create-unit-test.html">create-unit-test</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/dependency-report.html">dependency-report</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/docs.html">docs</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/generate-all.html">generate-all</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/generate-controller.html">generate-controller</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/generate-views.html">generate-views</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/help.html">help</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/install-templates.html">install-templates</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/list-plugins.html">list-plugins</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/list-profiles.html">list-profiles</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/package-plugin.html">package-plugin</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/package.html">package</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/plugin-info.html">plugin-info</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/profile-info.html">profile-info</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/run-app.html">run-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/run-script.html">run-script</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/schema-export.html">schema-export</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/shell.html">shell</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/stats.html">stats</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/stop-app.html">stop-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/test-app.html">test-app</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Command%20Line/war.html">war</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Constraints</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../../ref/Constraints/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../../ref/Constraints/attributes.html">attributes</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/bindable.html">bindable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/blank.html">blank</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/creditCard.html">creditCard</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/email.html">email</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/inList.html">inList</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/matches.html">matches</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/max.html">max</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/maxSize.html">maxSize</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/min.html">min</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/minSize.html">minSize</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/notEqual.html">notEqual</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/nullable.html">nullable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/range.html">range</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/scale.html">scale</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/size.html">size</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/unique.html">unique</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/url.html">url</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/validator.html">validator</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Constraints/widget.html">widget</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Controllers</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../../ref/Controllers/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../../ref/Controllers/actionName.html">actionName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/allowedMethods.html">allowedMethods</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/bindData.html">bindData</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/chain.html">chain</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/controllerName.html">controllerName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/defaultAction.html">defaultAction</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/errors.html">errors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/flash.html">flash</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/forward.html">forward</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/grailsApplication.html">grailsApplication</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/hasErrors.html">hasErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/namespace.html">namespace</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/params.html">params</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/redirect.html">redirect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/render.html">render</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/request.html">request</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/respond.html">respond</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/response.html">response</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/responseFormats.html">responseFormats</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/scope.html">scope</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/servletContext.html">servletContext</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/session.html">session</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/withForm.html">withForm</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Controllers/withFormat.html">withFormat</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Database Mapping</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/autoImport.html">autoImport</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/autoTimestamp.html">autoTimestamp</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/batchSize.html">batchSize</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/cache.html">cache</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/cascade.html">cascade</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/column.html">column</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/comment.html">comment</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/discriminator.html">discriminator</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/dynamicInsert.html">dynamicInsert</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/dynamicUpdate.html">dynamicUpdate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/fetch.html">fetch</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/id.html">id</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/ignoreNotFound.html">ignoreNotFound</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/indexColumn.html">indexColumn</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/insertable.html">insertable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/joinTable.html">joinTable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/lazy.html">lazy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/order.html">order</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/sort.html">sort</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/table.html">table</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/type.html">type</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/updateable.html">updateable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Database%20Mapping/version.html">version</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Domain Classes</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/addTo.html">addTo</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/attach.html">attach</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/belongsTo.html">belongsTo</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/clearErrors.html">clearErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/constraints.html">constraints</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/count.html">count</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/countBy.html">countBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/createCriteria.html">createCriteria</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/delete.html">delete</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/discard.html">discard</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/embedded.html">embedded</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/errors.html">errors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/executeQuery.html">executeQuery</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/executeUpdate.html">executeUpdate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/exists.html">exists</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/fetchMode.html">fetchMode</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/find.html">find</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/findAll.html">findAll</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/findAllBy.html">findAllBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/findAllWhere.html">findAllWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/findBy.html">findBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/findOrCreateBy.html">findOrCreateBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/findOrCreateWhere.html">findOrCreateWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/findOrSaveBy.html">findOrSaveBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/findOrSaveWhere.html">findOrSaveWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/findWhere.html">findWhere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/first.html">first</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/get.html">get</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/getAll.html">getAll</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/getDirtyPropertyNames.html">getDirtyPropertyNames</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/getPersistentValue.html">getPersistentValue</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/hasErrors.html">hasErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/hasMany.html">hasMany</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/hasOne.html">hasOne</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/ident.html">ident</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/instanceOf.html">instanceOf</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/isAttached.html">isAttached</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/isDirty.html">isDirty</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/last.html">last</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/list.html">list</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/listOrderBy.html">listOrderBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/load.html">load</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/lock.html">lock</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/mapWith.html">mapWith</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/mappedBy.html">mappedBy</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/mapping.html">mapping</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/merge.html">merge</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/namedQueries.html">namedQueries</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/properties.html">properties</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/read.html">read</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/refresh.html">refresh</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/removeFrom.html">removeFrom</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/save.html">save</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/transients.html">transients</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/validate.html">validate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/where.html">where</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/whereAny.html">whereAny</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/withCriteria.html">withCriteria</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/withNewSession.html">withNewSession</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/withSession.html">withSession</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Domain%20Classes/withTransaction.html">withTransaction</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Plug-ins</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../../ref/Plug-ins/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../../ref/Plug-ins/URL%20mappings.html">URL mappings</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Plug-ins/codecs.html">codecs</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Plug-ins/controllers.html">controllers</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Plug-ins/core.html">core</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Plug-ins/dataSource.html">dataSource</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Plug-ins/domainClasses.html">domainClasses</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Plug-ins/hibernate.html">hibernate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Plug-ins/i18n.html">i18n</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Plug-ins/logging.html">logging</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Plug-ins/scaffolding.html">scaffolding</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Plug-ins/services.html">services</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Plug-ins/servlets.html">servlets</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Services</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../../ref/Services/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../../ref/Services/scope.html">scope</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Services/transactional.html">transactional</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Servlet API</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../../ref/Servlet%20API/request.html">request</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Servlet%20API/response.html">response</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Servlet%20API/servletContext.html">servletContext</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Servlet%20API/session.html">session</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Tag Libraries</h1><div class="menu-sub">
                        
                            <div class="menu-item"><a href="../../ref/Tag%20Libraries/Usage.html">Usage</a></div>
                            
                            
                            <div class="menu-item"><a href="../../ref/Tag%20Libraries/actionName.html">actionName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tag%20Libraries/controllerName.html">controllerName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tag%20Libraries/flash.html">flash</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tag%20Libraries/pageScope.html">pageScope</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tag%20Libraries/params.html">params</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tag%20Libraries/request.html">request</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tag%20Libraries/response.html">response</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tag%20Libraries/servletContext.html">servletContext</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tag%20Libraries/session.html">session</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Tags</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../../ref/Tags/actionSubmit.html">actionSubmit</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/actionSubmitImage.html">actionSubmitImage</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/applyLayout.html">applyLayout</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/checkBox.html">checkBox</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/collect.html">collect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/cookie.html">cookie</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/country.html">country</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/countrySelect.html">countrySelect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/createLink.html">createLink</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/createLinkTo.html">createLinkTo</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/currencySelect.html">currencySelect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/datePicker.html">datePicker</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/each.html">each</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/eachError.html">eachError</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/else.html">else</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/elseif.html">elseif</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/external.html">external</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/field.html">field</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/fieldError.html">fieldError</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/fieldValue.html">fieldValue</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/findAll.html">findAll</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/form.html">form</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/formatBoolean.html">formatBoolean</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/formatDate.html">formatDate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/formatNumber.html">formatNumber</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/grep.html">grep</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/hasErrors.html">hasErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/header.html">header</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/hiddenField.html">hiddenField</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/if.html">if</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/img.html">img</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/include.html">include</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/isAvailable.html">isAvailable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/isNotAvailable.html">isNotAvailable</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/javascript.html">javascript</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/join.html">join</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/layoutBody.html">layoutBody</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/layoutHead.html">layoutHead</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/layoutTitle.html">layoutTitle</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/link.html">link</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/localeSelect.html">localeSelect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/message.html">message</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/meta.html">meta</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/pageProperty.html">pageProperty</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/paginate.html">paginate</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/passwordField.html">passwordField</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/radio.html">radio</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/radioGroup.html">radioGroup</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/render.html">render</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/renderErrors.html">renderErrors</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/resource.html">resource</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/select.html">select</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/set.html">set</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/sortableColumn.html">sortableColumn</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/submitButton.html">submitButton</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/textArea.html">textArea</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/textField.html">textField</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/timeZoneSelect.html">timeZoneSelect</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/unless.html">unless</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/uploadForm.html">uploadForm</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/Tags/while.html">while</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    Copies of this document may be made for your own use and for distribution to others, provided that you do not charge any fee for such copies and further provided that each copy contains this Copyright Notice, whether distributed in print or electronically.
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
